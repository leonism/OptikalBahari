// Base Styles
// Global resets, typography, and body/html styles.

// 1. Reset & Global HTML/Body
html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
}

body {
  font-size: 16px;
  color: $gray-900;
  background-color: $light-bg;
  @include serif-font;
  transition: background-color 0.3s, color 0.3s;
}

// 2. Typography
h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  @include sans-serif-font;
}

blockquote {
  font-style: italic;
  color: $gray-600;
}

p {
  line-height: 1.5;
  margin: 30px 0;
}

// 3. Links
a {
  color: $gray-900;
  text-decoration: none;
  @include transition-all;

  &:focus,
  &:hover {
    color: $primary;
    text-decoration: none;
  }
}

p a {
  text-decoration: underline;
}

// 4. Selections
::-moz-selection {
  color: $white;
  background: $primary;
  text-shadow: none;
}

::selection {
  color: $white;
  background: $primary;
  text-shadow: none;
}

img::selection {
  color: $white;
  background: transparent;
}

img::-moz-selection {
  color: $white;
  background: transparent;
}

// 5. Dark Mode Global Overrides
body.dark-mode,
[data-bs-theme="dark"] {
  background-color: $dark-bg;
  color: $dark-text;

  a {
    color: $dark-link;
    &:hover {
      color: lighten($dark-link, 15%);
    }
  }

  // Ensure text-muted is readable in dark mode
  .text-muted {
    color: darken($dark-text, 20%) !important;
  }

  // Ensure post metadata is visible
  .post-meta, .meta {
    color: darken($dark-text, 10%) !important;
  }

  // Dim images in dark mode
  img {
    filter: brightness(50%);
  }
}

// Specific override for html/body when using data-bs-theme
[data-bs-theme="dark"] body {
  background-color: $dark-bg;
  color: $dark-text;
}

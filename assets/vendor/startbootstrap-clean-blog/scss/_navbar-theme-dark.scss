@import "variables";

[data-bs-theme="dark"] body {
  .navbar {
    background-color: $dark-accent !important;
    .navbar-brand,
    .navbar-nav .nav-link {
      color: $dark-text !important;
      &:hover {
        color: lighten($dark-text, 10%);
      }
    }

    .form-check-input {
      background-color: $dark-button;
      border-color: $dark-button;
      &:checked {
        background-color: $dark-link;
      }
    }

    .navbar-toggler-icon {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23d1d1d1' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }
  }

  // Mobile Navbar Blur Effect for Dark Mode
  #mainNav.is-fixed {
    @media (max-width: 991.98px) {
      background-color: rgba($dark-accent, 0.85) !important;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
  }

  .navbar-search-area {
    .fas.fa-search {
      &.light-icon {
        display: none;
      }
      &.dark-icon {
        display: inline;
        color: $dark-text;
      }
    }
  }

  .form-check-label {
    .light-icon {
      display: none;
    }
    .dark-icon {
      display: inline;
    }
  }

  .form-check.form-switch.mb-0 {
    .form-check-input {
      background-color: $dark-button;
      border-color: $dark-button;
      &:checked {
        background-color: $dark-link;
      }
    }

    .form-check-label {
      .light-icon {
        color: $light-text;
      }
      .dark-icon {
        color: $dark-text;
      }
    }
  }

  // Algolia Search Dark Mode Enhancements
  .algolia-search-overlay {
    .search-clear-btn {
      @media (max-width: 768px) {
        width: 24px;
        height: 24px;
        font-size: 0.75rem;
        margin-left: 6px;
        
        // Maintain 44x44px touch target
        &::after {
          content: '';
          position: absolute;
          top: -10px;
          bottom: -10px;
          left: -10px;
          right: -10px;
        }
      }
    }
  }
}
